<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>è‰ç§¯åˆ†æŸ¥è¯¢ + ç©ºæŠ•ä¼°ç®—</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      max-width: 900px;
      margin: auto;
      transition: background 0.3s, color 0.3s;
    }
    body.dark {
      background: #111;
      color: #eee;
    }
    h1, h2 { color: inherit; }
    textarea, input {
      padding: 8px;
      width: 100%;
      margin-top: 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    button {
      padding: 8px 16px;
      margin-top: 10px;
      cursor: pointer;
      border-radius: 6px;
      border: none;
      background: #4caf50;
      color: white;
    }
    button:hover { background: #45a049; }
    #output {
      white-space: pre-wrap;
      background: #f9f9f9;
      padding: 12px;
      border-radius: 8px;
      margin-top: 20px;
      font-size: 14px;
      border: 1px solid #ddd;
    }
    table {
      width: 100%;
      margin-top: 20px;
      border-collapse: collapse;
    }
    th, td {
      padding: 10px;
      border: 1px solid #ccc;
      text-align: center;
    }
    th { background-color: #f0f0f0; }
    .error { color: red; font-weight: bold; }
    .found { color: green; font-weight: bold; }
    .formatted-value { font-size: 14px; color: gray; margin-top: 4px; }

    /* ç§»åŠ¨ç«¯ */
    @media (max-width: 600px) {
      table, thead, tbody, th, td, tr {
        display: block;
        width: 100%;
      }
      th, td {
        text-align: left;
        padding: 6px;
      }
    }
  </style>
</head>
<body>
  <div style="text-align: right; font-size: 13px; margin-bottom: 10px">
    ä½œè€…æ¨ç‰¹ï¼š<a href="https://x.com/0xXIAOc" target="_blank">@0xXIAOc</a>
    | <a href="#" onclick="toggleLang()">åˆ‡æ¢è‹±æ–‡</a>
    | <a href="#" onclick="toggleDarkMode()">åˆ‡æ¢å¤œé—´æ¨¡å¼</a>
  </div>

  <h1>ğŸŒ± è‰ç§¯åˆ†åœ°å€æŸ¥è¯¢å™¨</h1>

  <textarea id="addressInput" placeholder="è¯·è¾“å…¥åœ°å€ï¼Œå¤šä¸ªåœ°å€æ¢è¡Œè¾“å…¥"></textarea>
  <button onclick="searchAddress()">æŸ¥è¯¢</button>

  <div id="output"></div>

  <h2>ğŸ’° ç©ºæŠ•é‡‘é¢ä¼°ç®— <a href="https://x.com/0xXIAOc" target="_blank" style="font-size:14px; margin-left:10px;">by @0xXIAOc</a></h2>

  <p>å‡è®¾ FDV = <input id="fdv" value="600000000" style="width:120px"> å…ƒ <span class="formatted-value" id="formattedFDV"></span> ï¼Œè‰æ€»é‡ = 943.27 äº¿è‰</p>

  <label>ä½ æ‹¥æœ‰çš„è‰æ•°é‡ï¼š</label>
  <input id="myGrass" value="100000000" oninput="showFormattedGrass()" />
  <div class="formatted-value" id="formattedGrass"></div>

  <label>ç©ºæŠ•ç™¾åˆ†æ¯”ï¼ˆå¤šä¸ªç”¨é€—å·åˆ†éš”ï¼‰ï¼š</label>
  <input id="percentList" value="3,5,10,15,20" />

  <button onclick="updateAirdropTable()">è®¡ç®—</button>

  <table>
    <thead>
      <tr>
        <th>ç©ºæŠ•ç™¾åˆ†æ¯”</th>
        <th>ç©ºæŠ•é‡‘é¢ï¼ˆä¸‡å…ƒï¼‰</th>
        <th>æ¯è‰ä»·æ ¼ï¼ˆUSDï¼‰</th>
        <th>ä½ çš„è‰ä»·å€¼ï¼ˆUSDï¼‰</th>
      </tr>
    </thead>
    <tbody id="airdropTableBody"></tbody>
  </table>

<script>
function formatNumber(num) {
  if (num >= 1e8) return (num / 1e8).toFixed(2) + " äº¿";
  if (num >= 1e4) return (num / 1e4).toFixed(2) + " ä¸‡";
  return num;
}

function showFormattedGrass() {
  const val = parseFloat(document.getElementById("myGrass").value);
  document.getElementById("formattedGrass").innerText = isNaN(val) ? "" : "â‰ˆ " + formatNumber(val) + " è‰";
}

function showFormattedFDV() {
  const val = parseFloat(document.getElementById("fdv").value);
  document.getElementById("formattedFDV").innerText = isNaN(val) ? "" : "â‰ˆ " + formatNumber(val) + "å…ƒ";
}

document.getElementById("fdv").addEventListener("input", showFormattedFDV);

function updateAirdropTable() {
  const FDV = parseFloat(document.getElementById("fdv").value);
  const totalGrass = 94327000000;
  const myGrass = parseFloat(document.getElementById("myGrass").value) || 0;
  const percentRaw = document.getElementById("percentList").value;
  const percents = percentRaw.split(",").map(x => parseFloat(x.trim())).filter(x => !isNaN(x) && x > 0);

  if (!percents.length) {
    alert("ç©ºæŠ•ç™¾åˆ†æ¯”æ ¼å¼é”™è¯¯ï¼Œè¯·ç”¨é€—å·åˆ†éš”ï¼Œå¦‚ 3,5,10");
    return;
  }

  let html = "";
  percents.forEach(pct => {
    const airdropAmount = FDV * (pct / 100);
    const grassPrice = airdropAmount / totalGrass;
    const myValue = myGrass * grassPrice;
    html += `<tr>
      <td>${pct}%</td>
      <td>${(airdropAmount / 10000).toFixed(2)}</td>
      <td>$${grassPrice.toFixed(6)}</td>
      <td>$${myValue.toFixed(2)}</td>
    </tr>`;
  });

  document.getElementById("airdropTableBody").innerHTML = html || `<tr><td colspan="4">æš‚æ— æ•°æ®</td></tr>`;
}

function toggleDarkMode() {
  document.body.classList.toggle("dark");
}

function toggleLang() {
  alert("å¤šè¯­è¨€æ”¯æŒå¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…ï¼\nMulti-language support coming soon!");
}

showFormattedGrass();
showFormattedFDV();
</script>
</body>
</html>
